<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Bot App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
               background: #1a1d21; color: white; margin: 0; padding: 20px; overflow: hidden; }

        .page { display: none; height: 80vh; }
        .active { display: block; }

        .card { background: #2b2f36; padding: 20px; border-radius: 16px; margin-top: 20px;
                box-shadow: 0 4px 15px rgba(0,0,0,0.3); }

        .row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #3d434d; }
        .row:last-child { border-bottom: none; }

        .balance-val { color: #4CAF50; font-weight: bold; font-size: 1.1em; }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .tab-bar { position: fixed; bottom: 0; left: 0; width: 100%; background: #2b2f36;
                   display: flex; justify-content: space-around; padding: 15px 0; border-top: 1px solid #3d434d; }

        .tab { background: none; border: none; color: #888; font-size: 14px; font-weight: 600; cursor: pointer; transition: 0.3s; }
        .tab.active { color: #2481cc; transform: translateY(-2px); }

        h2 { margin-top: 0; color: #2481cc; }
    </style>
</head>
<body>

    <div id="shop" class="page">
        <h2>üõí –ú–∞–≥–∞–∑–∏–Ω</h2>
        <div class="card">
            <p>–î–æ—Å—Ç—É–ø–Ω—ã–µ —É—Å–ª—É–≥–∏ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</p>
        </div>
    </div>

    <div id="profile" class="page active">
        <h2>üë§ –í–∞—à –ø—Ä–æ—Ñ–∏–ª—å</h2>
        <div class="card">
            <div class="row">
                <span>–í–∞—à ID:</span>
                <span id="u_id" style="color: #aaa;">–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω</span>
            </div>
            <div class="row">
                <span>–ë–∞–ª–∞–Ω—Å:</span>
                <span id="u_bal" class="balance-val">0‚ÇΩ</span>
            </div>
        </div>
        <button onclick="location.reload()" style="width:100%; margin-top:20px; background:#3d434d; color:white; border:none; padding:10px; border-radius:8px;">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>
    </div>

    <div class="tab-bar">
        <button class="tab" id="tab-shop" onclick="switchTab('shop')">–ú–ê–ì–ê–ó–ò–ù</button>
        <button class="tab active" id="tab-profile" onclick="switchTab('profile')">–ü–†–û–§–ò–õ–¨</button>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.headerColor = '#1a1d21';

        // 1. –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ URL
        const urlParams = new URLSearchParams(window.location.search);
        const myId = urlParams.get('id');
        const myBal = urlParams.get('balance');

        // 2. –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ (–µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å –≤ —Å—Å—ã–ª–∫–µ)
        if (myId) {
            document.getElementById('u_id').innerText = myId;
        }
        if (myBal) {
            document.getElementById('u_bal').innerText = myBal + '‚ÇΩ';
        }

        // 3. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
        function switchTab(screen) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            // –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));

            // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—É—é
            document.getElementById(screen).classList.add('active');
            document.getElementById('tab-' + screen).classList.add('active');

            // –õ–µ–≥–∫–∞—è –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
            tg.HapticFeedback.impactOccurred('light');
        }
    </script>
</body>
</html>
