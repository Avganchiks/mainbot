<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: sans-serif; background: #1a1d21; color: white; margin: 0; padding: 15px; }
        .page { display: none; }
        .active { display: block; }
        .card { background: #2b2f36; padding: 15px; border-radius: 12px; margin-bottom: 10px; border: 1px solid #3d434d; }
        .flex { display: flex; justify-content: space-between; align-items: center; }
        .price { color: #4CAF50; font-weight: bold; }
        button.buy { background: #2481cc; border: none; color: white; padding: 8px 15px; border-radius: 8px; font-weight: bold; }
        .tab-bar { position: fixed; bottom: 0; left: 0; width: 100%; background: #2b2f36; display: flex; justify-content: space-around; padding: 15px 0; border-top: 1px solid #444; }
        .tab { background: none; border: none; color: #888; font-size: 12px; font-weight: bold; }
        .tab.active { color: #2481cc; }
    </style>
</head>
<body>

    <div id="shop" class="page active">
        <h2 style="color: #2481cc;">üõí –ú–∞–≥–∞–∑–∏–Ω</h2>
        <div class="card flex">
            <div><b>–ê—Ä—Ö–∏–≤</b><br><span class="price">250‚ÇΩ</span></div>
            <button class="buy" onclick="sendOrder('–ê—Ä—Ö–∏–≤', 250)">–ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
        <div class="card flex">
            <div><b>SEO</b><br><span class="price">130‚ÇΩ</span></div>
            <button class="buy" onclick="sendOrder('SEO', 130)">–ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
        <div class="card flex">
            <div><b>–ó–∞–ª–∏–≤</b><br><span class="price">100‚ÇΩ</span></div>
            <button class="buy" onclick="sendOrder('–ó–∞–ª–∏–≤', 100)">–ó–∞–∫–∞–∑–∞—Ç—å</button>
        </div>
    </div>

    <div id="profile" class="page">
        <h2 style="color: #2481cc;">üë§ –ü—Ä–æ—Ñ–∏–ª—å</h2>
        <div class="card">
            <div class="flex" style="margin-bottom: 10px;"><span>–í–∞—à ID:</span> <span id="u_id">...</span></div>
            <div class="flex"><span>–ë–∞–ª–∞–Ω—Å:</span> <span id="u_bal" style="color: #4CAF50;">0‚ÇΩ</span></div>
        </div>
    </div>

    <div class="tab-bar">
        <button class="tab active" id="btn-shop" onclick="tab('shop')">–ú–ê–ì–ê–ó–ò–ù</button>
        <button class="tab" id="btn-profile" onclick="tab('profile')">–ü–†–û–§–ò–õ–¨</button>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        function tab(name) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.getElementById(name).classList.add('active');
            document.getElementById('btn-' + name).classList.add('active');
        }

        function sendOrder(name, price) {
            let comment = prompt("–í–≤–µ–¥–∏—Ç–µ —Å—Å—ã–ª–∫—É –∏–ª–∏ –¢–ó –¥–ª—è –∑–∞–∫–∞–∑–∞:");
            if (comment) {
                tg.sendData(JSON.stringify({service: name, price: price, comment: comment}));
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ URL
        const params = new URLSearchParams(window.location.search);
        if (params.get('id')) document.getElementById('u_id').innerText = params.get('id');
        if (params.get('balance')) document.getElementById('u_bal').innerText = params.get('balance') + '‚ÇΩ';
    </script>
</body>
</html>
